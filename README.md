# Hyperledger Fabric workshop at https://www.theden.io/ in Fremont. 
URL: https://ibm.biz/HyperledgerFremont

10/24/2018

<img src="https://farm5.staticflickr.com/4503/37148677233_71edc5a37b_o.png" width="1041" height="53" alt="blueband">

# Agenda
~~~
7:00: Sign-in, mingle, food, welcome, form teams 
7:20: Lennart: Introduction to IBM Blockchain and Hyperledger  
7:40: Coding starts.
      Lab 1: Let's run our first application in Hyperledger Fabric
      Lab 2: Let's write an app with the Hyperledger Composer
      Lab 3: Into the IBM Cloud with IBM Blockchain, a full app
8:15: Coding ends.
      Where do we go from here? 
      Developer Journeys for Blockchain  https://developer.ibm.com/code/technologies/blockchain/
9:00: Event ends   
~~~~

<img src="https://farm5.staticflickr.com/4503/37148677233_71edc5a37b_o.png" width="1041" height="53" alt="blueband">

# How did it all start?
 
October 2008. It all started with Satoshi Nakamoto and his paper [Bitcoin: A Peer-to-Peer Electronic Cash System](https://bitcoin.org/bitcoin.pdf) which addressed a key problem in electronic commerce:

<img src="https://farm5.staticflickr.com/4505/24079519258_ab8a80f7ed_o.png" width="769" height="229" alt="Double Spending">
<p>

<i>A blockchain is a decentralized virtual ledger for recording transactions <b>without central authority </b> through a distributed cryptographic protocol. It is made up of three technologies 

1. cryptographic algorithms, 
1. a distributed protocol, 
1. and replicated data 
<p>
which combined provide a trustworthy service to a group of nodes that do not fully trust each other. 
<p>
Source: https://www.zurich.ibm.com/dccl/papers/cachin_dccl.pdf

<img src="https://farm5.staticflickr.com/4503/37148677233_71edc5a37b_o.png" width="1041" height="53" alt="blueband">

# Hyperledger from Linux Foundation

# Hyperledger Components

<a href="https://www.hyperledger.org/">Hyperledger by Linux Foundation</a>

<img src="https://hyperledger.org/wp-content/uploads/2018/07/Hyperledger_Greenhouse-59-2.png">
<hr size="5" color="black">
<p>
<img src="https://farm1.staticflickr.com/960/41055079635_d00c82c7dd_z.jpg">

https://www.hyperledger.org/projects/fabric

https://hyperledger-fabric.readthedocs.io/en/release-1.3/

Hyperledger, an open source collaborative effort to advance cross-industry blockchain technologies, 
is hosted by The Linux FoundationÂ®. 

Deployed in Docker images.

<a href="https://hyperledger-fabric.readthedocs.io/en/release-1.2/_images/AppConceptsOverview.png">

<img src="https://static.andigital.com/wp-content/uploads/2017/07/08102002/pasted-image-0.png">

<img src="https://farm1.staticflickr.com/968/27085403057_c8a2ccd0cc_z.jpg" alt="composer">

https://www.hyperledger.org/projects/composer

[Composer Playground](https://composer-playground.mybluemix.net/login)

<img src="https://hyperledger.github.io/composer/v0.19/assets/img/ComposerArchitecture.svg">


<img src="https://hyperledger.github.io/composer/v0.19/assets/img/Composer-Diagram.svg">


<img src="https://farm5.staticflickr.com/4503/37148677233_71edc5a37b_o.png" width="1041" height="53" alt="blueband">



## Let's take a look at a simple Hyperledger Fabric business network.


....your first network (BYFN) scenario provisions a sample Hyperledger Fabric network 
consisting of two organizations, each maintaining two peer nodes, and a "solo" ordering service. 

A blockchain network is comprised primarily of 

a set of peer nodes (or, simply, peers). 

Peers are a fundamental element of the network because they host ledgers and smart contracts. 

Recall that a ledger immutably records all the transactions generated by smart contracts (or chaincode). 

Smart contracts and ledgers are used to encapsulate the shared processes and shared information in a network, respectively. 

These aspects of a peer make them a good starting point to understand a Hyperledger Fabric network.


curl -sSL http://bit.ly/2ysbOFE | bash -s 1.3.0

~~~~
===> List out hyperledger docker images

hyperledger/fabric-javaenv    Go is the default chaincode language, however there is also support for Node.js and Java      
                              chaincode. 1.3.0
hyperledger/fabric-ca         https://hyperledger-fabric-ca.readthedocs.io/en/latest/#welcome-to-hyperledger-fabric-ca-certificate-authority   

Every single operation in the Hyperledger Fabric must be signed by an X.509 certificate. The Fabric-ca certificate authority is used for generating X.509 certificates.

~~~~
More on: https://hyperledger-fabric.readthedocs.io/en/release-1.2/identity/identity.html

<img src="https://hyperledger-fabric.readthedocs.io/en/release-1.2/_images/identity.diagram.11.png">

<img src="https://hyperledger-fabric-ca.readthedocs.io/en/latest/_images/fabric-ca.png">

~~~~
hyperledger/fabric-tools                                                                                                  
hyperledger/fabric-ccenv      The fabric-ccenv image which is used to build chaincode,                                        hyperledger/fabric-orderer    https://hyperledger-fabric.readthedocs.io/en/release-1.1/ordering-service-faq.html              hyperledger/fabric-peer       https://hyperledger-fabric.readthedocs.io/en/release-1.3/peers/peers.html
~~~~

<img src="https://hyperledger-fabric.readthedocs.io/en/release-1.3/_images/peers.diagram.1.png">

~~~~

hyperledger/fabric-zookeeper  https://hyperledger-fabric.readthedocs.io/en/release-1.3/kafka.html?highlight=zookeeper                             
hyperledger/fabric-kafka      https://hyperledger-fabric.readthedocs.io/en/release-1.1/kafka.html

hyperledger/fabric-couchdb    https://hyperledger-fabric.readthedocs.io/en/release-1.1/couchdb_as_state_database.html 

hyperledger/fabric-baseimage 

hyperledger/fabric-baseos                                                                                            

~~~~


## Step 2 Navigate to a directory where you want the samples downloaded to, and issue these commands:

    1. Source file: http://hyperledger-fabric.readthedocs.io/en/release/write_first_app.html
    2. Open terminal window on laptop, do: git clone https://github.com/hyperledger/fabric-samples.git
    3. cd fabric-samples/fabcar
    4. See what's inside the directory: enrollAdmin.js invoke.js package.json query.js registerUser.js  startFabric.sh
    5. docker rm -f $(docker ps -aq)
    6. Start the fabric: ./startFabric.sh
    7. Install the SDK Node modules: npm install
    8. node enrollAdmin.js
    9. node registerUser.js
   10. node query.js
   
   Output:
   
  <i>  Creating network "net_basic" with the default driver
    Creating couchdb ... 
    
    Creating ca.example.com ...
    
      CA: Certificate Authority https://hyperledger-fabric-ca.readthedocs.io/en/latest/ 
         Comment: It provides features such as:
         1. Issues certificates to other network participants to enroll in the network,
	       or connects to LDAP as the user registry
         2. issuance of Enrollment Certificates (ECerts)
         3. certificate renewal and revocation
	     
    Creating orderer.example.com ...
    
        Comment: The Hyperledger fabric ordering service is intended to provide an atomic broadcast 
        ordering service for consumption by the peers. This means that many clients may 
	submit messages for ordering, and all clients are delivered the same series of 
	ordered batches in response.
    
    Creating ca.example.com
    
    Creating orderer.example.com
    
    Creating couchdb ... done
       Comment: Transactions are collected into blocks/batches on the Ordering Service.
       The  blocks are stored locally to disk on every Ordering Service node 
       along with a LevelDB or CouchDB index to these blocks by number. 
       The blocks are delivered via RPC to committing peers. 
       The peers store them locally, and maintain a LevelDB (or CouchDB)based block index. 
       http://bit.ly/2zORhrC
    
    Creating peer0.org1.example.com ...
       Comment: A Peer is a node that validates and commits transactions and maintains the state and a copy 
       of the ledger. 

       Every peer stores the data of the blockchain in its container. 
       In a production envirement this container has a volume (mounted folder) to a real hard drive, NAS, SAN 
       or any other storage that you may use. Otherwise if the container is stopped all the data that was in the 
       container will be gone. 
       
       Every peer stores exactly the same data. So if a blockchain is 10Gb and you have 5 peers 
       then 50Gb will be needed to store 5 separate files from every peer and every file is 10Gb.

       Creating peer0.org1.example.com ... 
       done
       
  <img src="https://farm5.staticflickr.com/4458/37771305586_6bf75bc2af_o.png" width="853" height="482" alt="hyperledger architecture">

  </i>


<img src="https://farm5.staticflickr.com/4503/37148677233_71edc5a37b_o.png" width="1041" height="53" alt="blueband">

# Let's begin devloping our app!

## Use Cases

https://www.ibm.com/blockchain/use-cases/

## Lab 1: Hyperledger Composer  https://github.com/LennartFr/hyperledgerlab2018#-hands-on-lab-
## Lab 2: Decentralized Energy Composer: https://github.com/IBM/Decentralized-Energy-Composer 
## Lab 3: IBM Blockchain Platform

https://www.ibm.com/blockchain/platform?|1298|22081


<img src="https://github.com/LennartFr/hyperlab20181018/blob/master/Screen%20Shot%202018-10-19%20at%2011.41.49.png">
